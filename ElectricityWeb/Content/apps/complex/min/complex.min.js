var Tools;(function(t){var n=function(){function t(t,n){this.width=t,this.height=n}return t}();t.Size=n;var i=function(){function t(t,n){this.x=t,this.y=n}return t}();t.Position=i})(Tools||(Tools={}));var __extends=this.__extends||function(t,n){function i(){this.constructor=t}for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);i.prototype=n.prototype,t.prototype=new i},visual;(function(t){var n=function(){function t(){}return t.prototype.init=function(t,n){t.selectable=n||!1,t.hasBorders=!1},t}();t.visualElement=n;var i=function(t){function n(){t.apply(this,arguments)}return __extends(n,t),Object.defineProperty(n.prototype,"position",{get:function(){return new Tools.Position(this.object.left+this.object.width/2,this.object.top+this.object.height/2)},enumerable:!0,configurable:!0}),n.prototype.initSizable=function(n,i,e,o,r){this.object=n,n.left=i.x,n.top=i.y,n.width=e.width,n.height=e.height,n.fill=r||"grey",t.prototype.init.call(this,n,o)},n}(n);t.sizableElement=i;var e=function(t){function n(){t.apply(this,arguments)}return __extends(n,t),n.prototype.initRect=function(n,i,e,o,r){var a=new fabric.Rect;return t.prototype.initSizable.call(this,a,i,e,o,r),n.add(a),this},n}(i);t.rectElement=e;var o=function(t){function n(){t.apply(this,arguments)}return __extends(n,t),n.prototype.initCircle=function(n,i,e,o,r){var a=new fabric.Circle;return a.radius=e,t.prototype.initSizable.call(this,a,i,new Tools.Size(e,e),o,r),n.add(a),this},n}(i);t.circleElement=o;var r=function(t){function n(){t.apply(this,arguments)}return __extends(n,t),n.prototype.initImage=function(n,i,e,o,r){var a=t.prototype.initSizable;return fabric.Image.fromURL(o,function(t){a(t,i,e,r,"white"),n.add(t)}),this},n}(i);t.imageElement=r;var a=function(t){function n(){t.apply(this,arguments)}return __extends(n,t),n.prototype.initLine=function(n,i,e,o,r,a){void 0===a&&(a=1);var s=new fabric.Line([i.position.x,i.position.y,e.position.x,e.position.y]);return s.strokeWidth=a,s.stroke=r,t.prototype.init.call(this,s,o),n.add(s),this},n}(n);t.connectingLine=a})(visual||(visual={}));var Application=function(){function t(){this.elements=[],this.canvas=new fabric.Canvas("canvas")}return t.prototype.init=function(){var t=(new visual.rectElement).initRect(this.canvas,new Tools.Position(100,200),new Tools.Size(200,100),!0,"green"),n=(new visual.circleElement).initCircle(this.canvas,new Tools.Position(400,100),20,!1),i=(new visual.imageElement).initImage(this.canvas,new Tools.Position(400,100),new Tools.Size(100,100),"../Content/apps/complex/img/test.png",!0),e=(new visual.connectingLine).initLine(this.canvas,t,n,!1,"red");this.elements.push(t,n,i,e)},t.prototype.clear=function(){this.canvas.clear()},t}(),application=new Application;application.init();var input;(function(t){var n=function(){function t(){}return t}();t.inputController=n})(input||(input={}));var creator;(function(t){var n=function(){function t(t){this.canvas=t,this.interactable=!0}return t}();t.creator=n;var i=function(t){function n(n){t.call(this,n),this.interactable=!1}return __extends(n,t),n}(n);t.staticContentCreator=i})(creator||(creator={}));